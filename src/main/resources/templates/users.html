<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">
<head>
  <title>Getting Started: Serving Web Content</title>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css">
</head>
<body class="mx-2">
<header th:insert="blocks/header :: header"></header>
<div>
  <h1>Пользователи</h1>
  <table class="table">
    <thead class="thead-light">
    <tr>
      <th scope="col">ID</th>
      <th scope="col">Name</th>
      <th scope="col">Role</th>
    </tr>
    </thead>
    <tbody th:each="el : ${users}">
    <tr>
      <td th:text="${el.id}"/>
      <td th:text="${el.username}"/>
      <td th:text="${el.roles}"/>
      <td><a class="btn btn-primary" th:href="@{userEdit/{id}(id=${el.id})}" role="button">Edit</a></td>
      <td><a class="btn btn-danger" th:href="@{userDelete/{id}(id=${el.id})}" role="button">Delete</a></td>
    </tr>
    </tbody>
  </table>
</div>
<div th:if="${tasksPage.totalPages > 0}">
  <nav aria-label="Page navigation example">
    <ul class="pagination">
      <li class="page-item" th:classappend="${currentPage < 2}? 'disabled' : ''">
        <a class="page-link" th:href="@{/tasks(size=${tasksPage.size}, page=${currentPage - 1})}">Previous</a>
      </li>
      <li class="page-item" th:each="pageNumber : ${pageNumbers}"
          th:classappend="${pageNumber}==${currentPage}? 'active' : ''">
        <a class="page-link"
           th:href="@{/tasks(size=${tasksPage.size}, page=${pageNumber})}"
           th:text=${pageNumber}>
        </a>
      </li>
      <li class="page-item" th:classappend="${currentPage == tasksPage.totalPages}? 'disabled' : ''">
        <a class="page-link" th:href="@{/tasks(size=${tasksPage.size}, page=${currentPage + 1})}">Next</a>
      </li>
    </ul>
  </nav>
</div>
</body>
</html>